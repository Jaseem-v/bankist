(this.webpackJsonpbankist=this.webpackJsonpbankist||[]).push([[0],{10:function(e,n,t){},12:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),s=t(5),o=t.n(s),c=t(4),l=t(2),i=(t(10),t(0));var u=function(e){var n=e.findUser,t=e.user;return Object(i.jsx)("div",{children:Object(i.jsxs)("nav",{children:[Object(i.jsx)("p",{className:"welcome",children:t?"Welcome Back , ".concat(t.owner.split(" ")[0]):"Log in to get started"}),Object(i.jsx)("img",{src:"logo.png",alt:"Logo",className:"logo"}),Object(i.jsxs)("form",{className:"login",children:[Object(i.jsx)("input",{type:"text",placeholder:"user",className:"login__input login__input--user"}),Object(i.jsx)("input",{type:"text",placeholder:"PIN",maxLength:"4",className:"login__input login__input--pin"}),Object(i.jsx)("button",{onClick:n,className:"login__btn",children:"\u2192"})]})]})})};var m=function(e){var n=e.applyLoan;return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"operation operation--loan",children:[Object(i.jsx)("h2",{children:"Request loan"}),Object(i.jsxs)("form",{className:"form form--loan",children:[Object(i.jsx)("input",{type:"number",className:"form__input form__input--loan-amount"}),Object(i.jsx)("button",{onClick:n,className:"form__btn form__btn--loan",children:"\u2192"}),Object(i.jsx)("label",{className:"form__label form__label--loan",children:"Amount"})]})]})})};var d=function(e){var n=e.status,t=e.money,a=e.statusValue,r=e.date,s=e.currencyFormater,o=function(e,n){var t=Math.round(Math.abs(e-n)/864e5);return 0===t?"TODAY":1===t?"YESTURDAY":t<7?"".concat(t," days ago"):new Intl.DateTimeFormat(navigator.language).format(new Date(r))}(new Date(r),new Date);return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"movements__row",children:[Object(i.jsx)("div",{className:"movements__type movements__type--".concat(n),children:a}),Object(i.jsx)("div",{className:"movements__date",children:o}),Object(i.jsx)("div",{className:"movements__value",children:s(t)})]})})};var j=function(e){var n=e.transferMoney;return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"operation operation--transfer",children:[Object(i.jsx)("h2",{children:"Transfer money"}),Object(i.jsxs)("form",{className:"form form--transfer",children:[Object(i.jsx)("input",{type:"text",className:"form__input form__input--to"}),Object(i.jsx)("input",{type:"number",className:"form__input form__input--amount"}),Object(i.jsx)("button",{onClick:n,className:"form__btn form__btn--transfer",children:"\u2192"}),Object(i.jsx)("label",{className:"form__label",children:"Transfer to"}),Object(i.jsx)("label",{className:"form__label",children:"Amount"})]})]})})};var v=function(e){var n,t,r,s,o,c,u,v,b=e.applyLoan,p=e.user,_=e.transferMoney,f=e.closeAccount,h=null===p||void 0===p||null===(n=p.movements)||void 0===n?void 0:n.reduce((function(e,n){return e+n}),0);p.balance=h;var O=null===p||void 0===p||null===(t=p.movements)||void 0===t?void 0:t.filter((function(e){return e>0})).reduce((function(e,n){return e+n}),0),x=null===p||void 0===p||null===(r=p.movements)||void 0===r?void 0:r.filter((function(e){return e<0})).reduce((function(e,n){return e+n}),0),N=function(e){return new Intl.NumberFormat(navigator.languages,{style:"currency",currency:"INR"}).format(e)},y=Math.round(null===p||void 0===p||null===(s=p.movements)||void 0===s||null===(o=s.filter((function(e){return e>0})))||void 0===o||null===(c=o.map((function(e){return e*(null===p||void 0===p?void 0:p.interestRate)/100})))||void 0===c||null===(u=c.filter((function(e){return e>=1})))||void 0===u?void 0:u.reduce((function(e,n){return e+n}),0)),T=new Intl.DateTimeFormat("en-IN",{hour:"numeric",minute:"numeric",year:"numeric",month:"long",day:"numeric",weekday:"long"}).format(new Date),g=Object(a.useState)(!1),Z=Object(l.a)(g,2),w=Z[0],D=Z[1],S=w?null===p||void 0===p?void 0:p.movements.slice().sort((function(e,n){return e-n})):null===p||void 0===p||null===(v=p.movements)||void 0===v?void 0:v.reverse();return Object(i.jsx)("div",{children:Object(i.jsxs)("main",{className:"app",children:[Object(i.jsxs)("div",{className:"balance",children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{className:"balance__label",children:"Current balance"}),Object(i.jsxs)("p",{className:"balance__date",children:["As of ",Object(i.jsx)("span",{className:"date",children:T})]})]}),Object(i.jsx)("p",{className:"balance__value",children:N(p.balance)})]}),Object(i.jsx)("div",{className:"movements",children:null===S||void 0===S?void 0:S.map((function(e,n,t){return Object(i.jsx)(d,{status:e>0?"deposit":"withdrawal",statusValue:"".concat(t.length-n," ").concat(e>0?"deposit":"withdrawal"),money:e,date:p.movementsDates[n],currencyFormater:N},n)}))}),Object(i.jsx)(j,{transferMoney:_}),Object(i.jsx)(m,{applyLoan:b}),Object(i.jsxs)("div",{className:"operation operation--close",children:[Object(i.jsx)("h2",{children:"Close account"}),Object(i.jsxs)("form",{className:"form form--close",children:[Object(i.jsx)("input",{type:"text",className:"form__input form__input--user"}),Object(i.jsx)("input",{type:"password",maxlength:"6",className:"form__input form__input--pin"}),Object(i.jsx)("button",{onClick:f,className:"form__btn form__btn--close",children:"\u2192"}),Object(i.jsx)("label",{className:"form__label",children:"Confirm user"}),Object(i.jsx)("label",{className:"form__label",children:"Confirm PIN"})]})]}),Object(i.jsxs)("div",{className:"summary",children:[Object(i.jsx)("p",{className:"summary__label",children:"In"}),Object(i.jsx)("p",{className:"summary__value summary__value--in",children:N(O)}),Object(i.jsx)("p",{className:"summary__label",children:"Out"}),Object(i.jsx)("p",{className:"summary__value summary__value--out",children:N(-x)}),Object(i.jsx)("p",{className:"summary__label",children:"Interest"}),Object(i.jsx)("p",{className:"summary__value summary__value--interest",children:N(y)}),Object(i.jsx)("button",{onClick:function(e){e.preventDefault(),D(!w)},className:"btn--sort",children:" l SORT "})]}),Object(i.jsxs)("p",{className:"logout-timer",children:["You will be logged out in ",Object(i.jsx)("span",{className:"timer",children:"05:00"})]})]})})},b=[{owner:"Jonas Schmedtmann",movements:[200,450,-400,3e3,-650,-130,70,1300],interestRate:1.2,pin:1111,movementsDates:["2019-11-18T21:31:17.178Z","2019-12-23T07:42:02.383Z","2020-01-28T09:15:04.904Z","2020-04-01T10:17:24.185Z","2020-05-08T14:11:59.604Z","2020-07-26T17:01:17.194Z","2020-07-28T23:36:17.929Z","2020-08-01T10:51:36.790Z"]},{owner:"Jessica Davis",movements:[5e3,3400,-150,-790,-3210,-1e3,8500,-30],interestRate:1.5,pin:2222,movementsDates:["2019-11-01T13:15:33.035Z","2019-11-30T09:48:16.867Z","2019-12-25T06:04:23.907Z","2020-01-25T14:18:46.235Z","2020-02-05T16:33:06.386Z","2020-04-10T14:43:26.374Z","2020-06-25T18:49:59.371Z","2020-07-26T12:01:20.894Z"]},{owner:"Steven Thomas Williams",movements:[200,-200,340,-300,-20,50,400,-460],interestRate:.7,pin:3333,movementsDates:["2019-11-01T13:15:33.035Z","2019-11-30T09:48:16.867Z","2019-12-25T06:04:23.907Z","2020-01-25T14:18:46.235Z","2020-02-05T16:33:06.386Z","2020-04-10T14:43:26.374Z","2020-06-25T18:49:59.371Z","2020-07-26T12:01:20.894Z"]},{owner:"Sarah Smith",movements:[430,1e3,700,50,90],interestRate:1,pin:4444,movementsDates:["2019-11-01T13:15:33.035Z","2019-11-30T09:48:16.867Z","2019-12-25T06:04:23.907Z","2020-01-25T14:18:46.235Z","2020-02-05T16:33:06.386Z","2020-04-10T14:43:26.374Z","2020-06-25T18:49:59.371Z","2020-07-26T12:01:20.894Z"]}],p={};var _=function(){var e=Object(a.useState)(0),n=Object(l.a)(e,2),t=n[0],r=n[1];return b.forEach((function(e){e.username=e.owner.toLowerCase().split(" ").map((function(e){return e[0]})).join("")})),Object(i.jsxs)("div",{children:[Object(i.jsx)(u,{findUser:function(e){e.preventDefault();var n=document.querySelector(".login__input--user"),t=document.querySelector(".login__input--pin"),a=Number.parseInt(t.value);p=b.find((function(e){return e.username===n.value&&e.pin===a})),n.value=t.value="",p?r(p):alert("no user")},user:t}),t?Object(i.jsx)(v,{accounts:b,applyLoan:function(e){e.preventDefault();var n=document.querySelector(".form__input--loan-amount");p.movements.some((function(e){return e>=.1*Number(n.value)}))&&(p.movements.push(Number(n.value)),p.movementsDates.push((new Date).toISOString())),n.value="",r(Object(c.a)({},p))},currentUser:p,user:t,transferMoney:function(e){e.preventDefault();var n=document.querySelector(".form__input--to"),t=document.querySelector(".form__input--amount"),a=+t.value,s=b.find((function(e){return e.username===n.value}));a&&p.balance>a&&s&&(null===s||void 0===s?void 0:s.username)!==p.username&&(p.movements.push(-a),s.movements.push(a),p.movementsDates.push((new Date).toISOString()),s.movementsDates.push((new Date).toISOString())),n.value=t.value="",r(Object(c.a)({},p))},closeAccount:function(e){e.preventDefault();var n=document.querySelector(".form__input--user"),t=document.querySelector(".form__input--pin");if(n.value===p.username&&Number(t.value)===p.pin){var a=b.findIndex((function(e){return e.username===n.value&&e.pin===Number(t.value)}));b.splice(a,1),r(p=void 0),console.log(b)}else console.log("wrong userName");n.value="",t.value=""}}):console.log("no user")]})};o.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(_,{})}),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.4f90bec5.chunk.js.map