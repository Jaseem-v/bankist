(this.webpackJsonpbankist=this.webpackJsonpbankist||[]).push([[0],{10:function(e,t,n){},12:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=n(5),o=n.n(s),c=n(2),l=(n(10),Object(r.createContext)()),i=n(0);var u=function(){var e=Object(r.useContext)(l),t=e.user,n=e.setUser,a=e.accounts;return Object(i.jsx)("div",{children:Object(i.jsxs)("nav",{children:[Object(i.jsx)("p",{className:"welcome",children:t?"Welcome Back , ".concat(t.owner.split(" ")[0]):"Log in to get started"}),Object(i.jsx)("img",{src:"logo.png",alt:"Logo",className:"logo"}),Object(i.jsxs)("form",{className:"login",children:[Object(i.jsx)("input",{type:"text",placeholder:"user",className:"login__input login__input--user"}),Object(i.jsx)("input",{type:"text",placeholder:"PIN",maxLength:"4",className:"login__input login__input--pin"}),Object(i.jsx)("button",{onClick:function(e){e.preventDefault();var t=document.querySelector(".login__input--user"),r=document.querySelector(".login__input--pin"),s=Number.parseInt(r.value);window.currentUser=a.find((function(e){return e.username===t.value&&e.pin===s})),t.value=r.value="",window.currentUser?(n(window.currentUser),window.timerInterval&&clearInterval(window.timerInterval),window.startTimer()):alert("no user")},className:"login__btn",children:"\u2192"})]})]})})};var m=function(){var e=Object(r.useContext)(l),t=e.setUser,n=e.accounts;return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"operation operation--close",children:[Object(i.jsx)("h2",{children:"Close account"}),Object(i.jsxs)("form",{className:"form form--close",children:[Object(i.jsx)("input",{type:"text",className:"form__input form__input--user"}),Object(i.jsx)("input",{type:"password",maxlength:"6",className:"form__input form__input--pin"}),Object(i.jsx)("button",{onClick:function(e){e.preventDefault();var r=document.querySelector(".form__input--user"),a=document.querySelector(".form__input--pin");if(r.value===window.currentUser.username&&Number(a.value)===window.currentUser.pin){var s=n.findIndex((function(e){return e.username===r.value&&e.pin===Number(a.value)}));n.splice(s,1),window.currentUser=void 0,t(window.currentUser),console.log(n)}else console.log("wrong userName");r.value="",a.value=""},className:"form__btn form__btn--close",children:"\u2192"}),Object(i.jsx)("label",{className:"form__label",children:"Confirm user"}),Object(i.jsx)("label",{className:"form__label",children:"Confirm PIN"})]})]})})},d=n(3);var v=function(){var e=Object(r.useContext)(l).setUser;return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"operation operation--loan",children:[Object(i.jsx)("h2",{children:"Request loan"}),Object(i.jsxs)("form",{className:"form form--loan",children:[Object(i.jsx)("input",{type:"number",className:"form__input form__input--loan-amount"}),Object(i.jsx)("button",{onClick:function(t){var n,r;t.preventDefault();var a=document.querySelector(".form__input--loan-amount");(null===(n=window.currentUser)||void 0===n||null===(r=n.movements)||void 0===r?void 0:r.some((function(e){return e>=.1*Number(a.value)})))&&setTimeout((function(){var t,n,r,s;null===(t=window.currentUser)||void 0===t||null===(n=t.movements)||void 0===n||n.push(Number(a.value)),null===(r=window.currentUser)||void 0===r||null===(s=r.movementsDates)||void 0===s||s.push((new Date).toISOString()),alert("loan Aproved"),a.value="",e(Object(d.a)({},window.currentUser)),window.timerInterval&&clearInterval(window.timerInterval),window.startTimer()}),2e3)},className:"form__btn form__btn--loan",children:"\u2192"}),Object(i.jsx)("label",{className:"form__label form__label--loan",children:"Amount"})]})]})})};var j=function(e){var t=e.status,n=e.money,r=e.statusValue,a=e.date,s=e.currencyFormater,o=function(e,t){var n=Math.round(Math.abs(e-t)/864e5);return 0===n?"TODAY":1===n?"YESTURDAY":n<7?"".concat(n," days ago"):new Intl.DateTimeFormat(navigator.language).format(new Date(a))}(new Date(a),new Date);return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"movements__row",children:[Object(i.jsx)("div",{className:"movements__type movements__type--".concat(t),children:r}),Object(i.jsx)("div",{className:"movements__date",children:o}),Object(i.jsx)("div",{className:"movements__value",children:s(n)})]})})};var b=function(){var e=Object(r.useContext)(l),t=e.setUser,n=e.accounts;return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"operation operation--transfer",children:[Object(i.jsx)("h2",{children:"Transfer money"}),Object(i.jsxs)("form",{className:"form form--transfer",children:[Object(i.jsx)("input",{type:"text",className:"form__input form__input--to"}),Object(i.jsx)("input",{type:"number",className:"form__input form__input--amount"}),Object(i.jsx)("button",{onClick:function(e){e.preventDefault();var r=document.querySelector(".form__input--to"),a=document.querySelector(".form__input--amount"),s=+a.value,o=n.find((function(e){return e.username===r.value}));s&&window.currentUser.balance>s&&o&&(null===o||void 0===o?void 0:o.username)!==window.currentUser.username&&(window.currentUser.movements.push(-s),o.movements.push(s),window.currentUser.movementsDates.push((new Date).toISOString()),o.movementsDates.push((new Date).toISOString())),r.value=a.value="",t(Object(d.a)({},window.currentUser)),window.timerInterval&&clearInterval(window.timerInterval),window.startTimer()},className:"form__btn form__btn--transfer",children:"\u2192"}),Object(i.jsx)("label",{className:"form__label",children:"Transfer to"}),Object(i.jsx)("label",{className:"form__label",children:"Amount"})]})]})})};var _=function(e){var t,n,a,s,o,c,u=e.sortClick,m=e.currencyFormater,d=Object(r.useContext)(l).user,v=null===d||void 0===d||null===(t=d.movements)||void 0===t?void 0:t.filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0),j=null===d||void 0===d||null===(n=d.movements)||void 0===n?void 0:n.filter((function(e){return e<0})).reduce((function(e,t){return e+t}),0),b=Math.round(null===d||void 0===d||null===(a=d.movements)||void 0===a||null===(s=a.filter((function(e){return e>0})))||void 0===s||null===(o=s.map((function(e){return e*(null===d||void 0===d?void 0:d.interestRate)/100})))||void 0===o||null===(c=o.filter((function(e){return e>=1})))||void 0===c?void 0:c.reduce((function(e,t){return e+t}),0));return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"summary",children:[Object(i.jsx)("p",{className:"summary__label",children:"In"}),Object(i.jsx)("p",{className:"summary__value summary__value--in",children:m(v)}),Object(i.jsx)("p",{className:"summary__label",children:"Out"}),Object(i.jsx)("p",{className:"summary__value summary__value--out",children:m(-j)}),Object(i.jsx)("p",{className:"summary__label",children:"Interest"}),Object(i.jsx)("p",{className:"summary__value summary__value--interest",children:m(b)}),Object(i.jsx)("button",{onClick:u,className:"btn--sort",children:" l SORT "})]})})};var p=function(){var e,t,n,a,s=Object(r.useContext)(l),o=s.user,u=s.timer,d=Object(r.useState)(!1),p=Object(c.a)(d,2),f=p[0],w=p[1];a=1==f?o.movements.slice().sort((function(e,t){return e-t})):o.movements;var O=function(e){return new Intl.NumberFormat(navigator.languages,{style:"currency",currency:"INR"}).format(e)},x=null===o||void 0===o||null===(e=o.movements)||void 0===e?void 0:e.reduce((function(e,t){return e+t}),0);o.balance=x;var h=new Intl.DateTimeFormat("en-IN",{year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric"}).format(new Date);return Object(i.jsx)("div",{children:Object(i.jsxs)("main",{className:"app",children:[Object(i.jsxs)("div",{className:"balance",children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{className:"balance__label",children:"Current balance"}),Object(i.jsxs)("p",{className:"balance__date",children:["As of ",Object(i.jsx)("span",{className:"date",children:h})]})]}),Object(i.jsx)("p",{className:"balance__value",children:O(o.balance)})]}),Object(i.jsx)("div",{className:"movements",children:null===(t=a)||void 0===t||null===(n=t.reverse())||void 0===n?void 0:n.map((function(e,t,n){return Object(i.jsx)(j,{status:e>0?"deposit":"withdrawal",statusValue:"".concat(n.length-t," ").concat(e>0?"deposit":"withdrawal"),money:e,date:o.movementsDates[t],currencyFormater:O},t)}))}),Object(i.jsx)(b,{}),Object(i.jsx)(v,{}),Object(i.jsx)(m,{}),Object(i.jsx)(_,{sortClick:function(e){e.preventDefault(),w(!f)},currencyFormater:O}),Object(i.jsxs)("p",{className:"logout-timer",children:["You will be logged out in ",Object(i.jsx)("span",{className:"timer",children:u})]})]})})},f=[{owner:"Jaseem V",movements:[2e3,4500,-4e3,3e4,-6500,-1300,700,1300],interestRate:1.2,pin:1111,movementsDates:["2019-11-18T21:31:17.178Z","2019-12-23T07:42:02.383Z","2020-01-28T09:15:04.904Z","2020-04-01T10:17:24.185Z","2020-05-08T14:11:59.604Z","2020-07-26T17:01:17.194Z","2020-07-28T23:36:17.929Z","2020-08-01T10:51:36.790Z"]},{owner:"Lionel Messi",movements:[5e3,3400,-150,-790,-3210,-1e3,8500,-30],interestRate:1.5,pin:2222,movementsDates:["2019-11-01T13:15:33.035Z","2019-11-30T09:48:16.867Z","2019-12-25T06:04:23.907Z","2020-01-25T14:18:46.235Z","2020-02-05T16:33:06.386Z","2020-04-10T14:43:26.374Z","2020-06-25T18:49:59.371Z","2020-07-26T12:01:20.894Z"]},{owner:"Cristiano Ronaldo",movements:[200,-200,340,-300,-20,50,400,-460],interestRate:.7,pin:3333,movementsDates:["2019-11-01T13:15:33.035Z","2019-11-30T09:48:16.867Z","2019-12-25T06:04:23.907Z","2020-01-25T14:18:46.235Z","2020-02-05T16:33:06.386Z","2020-04-10T14:43:26.374Z","2020-06-25T18:49:59.371Z","2020-07-26T12:01:20.894Z"]},{owner:"Muhammed Salah",movements:[430,1e3,700,50,90],interestRate:1,pin:4444,movementsDates:["2019-11-01T13:15:33.035Z","2019-11-30T09:48:16.867Z","2019-12-25T06:04:23.907Z","2020-01-25T14:18:46.235Z","2020-02-05T16:33:06.386Z","2020-04-10T14:43:26.374Z","2020-06-25T18:49:59.371Z","2020-07-26T12:01:20.894Z"]}];window.currentUser={},window.timerInterval=0,window.startTimer=void 0;var w=function(){var e=Object(r.useState)(0),t=Object(c.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)("05:00"),o=Object(c.a)(s,2),m=o[0],d=o[1];return f.forEach((function(e){e.username=e.owner.toLowerCase().split(" ").map((function(e){return e[0]})).join("")})),window.startTimer=function(){var e=300;window.timerInterval=setInterval((function(){var t="".concat(Math.floor(e/60)).padStart(2,0),n="".concat(e%60).padStart(2,0);d("".concat(t,":").concat(n)),0===e&&(window.currentUser=void 0,a(window.currentUser)),e--}),1e3)},Object(i.jsx)("div",{children:Object(i.jsxs)(l.Provider,{value:{user:n,setUser:a,accounts:f,timer:m,setTimer:d},children:[Object(i.jsx)(u,{}),n?Object(i.jsx)(p,{}):console.log("no user")]})})};o.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(w,{})}),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.a54ea597.chunk.js.map