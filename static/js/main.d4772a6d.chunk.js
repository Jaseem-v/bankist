(this.webpackJsonpbankist=this.webpackJsonpbankist||[]).push([[0],{10:function(e,n,t){},12:function(e,n,t){"use strict";t.r(n);var s=t(1),a=t.n(s),r=t(4),l=t.n(r),c=t(3),o=t(5),i=(t(10),t(0));var u=function(e){var n=e.findUser;return Object(i.jsx)("div",{children:Object(i.jsxs)("nav",{children:[Object(i.jsx)("p",{className:"welcome",children:"Log in to get started"}),Object(i.jsx)("img",{src:"logo.png",alt:"Logo",className:"logo"}),Object(i.jsxs)("form",{className:"login",children:[Object(i.jsx)("input",{type:"text",placeholder:"user",className:"login__input login__input--user"}),Object(i.jsx)("input",{type:"text",placeholder:"PIN",maxLength:"4",className:"login__input login__input--pin"}),Object(i.jsx)("button",{onClick:n,className:"login__btn",children:"\u2192"})]})]})})};var m=function(e){var n=e.applyLoan;return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"operation operation--loan",children:[Object(i.jsx)("h2",{children:"Request loan"}),Object(i.jsxs)("form",{className:"form form--loan",children:[Object(i.jsx)("input",{type:"number",className:"form__input form__input--loan-amount"}),Object(i.jsx)("button",{onClick:n,className:"form__btn form__btn--loan",children:"\u2192"}),Object(i.jsx)("label",{className:"form__label form__label--loan",children:"Amount"})]})]})})};var j=function(e){var n=e.status,t=e.money,s=e.statusValue;return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"movements__row",children:[Object(i.jsx)("div",{className:"movements__type movements__type--".concat(n),children:s}),Object(i.jsxs)("div",{className:"movements__value",children:[t,"\u20ac"]})]})})};var d=function(e){var n=e.transferMoney;return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"operation operation--transfer",children:[Object(i.jsx)("h2",{children:"Transfer money"}),Object(i.jsxs)("form",{className:"form form--transfer",children:[Object(i.jsx)("input",{type:"text",className:"form__input form__input--to"}),Object(i.jsx)("input",{type:"number",className:"form__input form__input--amount"}),Object(i.jsx)("button",{onClick:n,className:"form__btn form__btn--transfer",children:"\u2192"}),Object(i.jsx)("label",{className:"form__label",children:"Transfer to"}),Object(i.jsx)("label",{className:"form__label",children:"Amount"})]})]})})};var b=function(e){var n,t,s,a,r,l,c,o,u,b=e.applyLoan,v=e.user,p=e.transferMoney,_=e.closeAccount,f=null===v||void 0===v||null===(n=v.movements)||void 0===n?void 0:n.reduce((function(e,n){return e+n}),0);v.balance=f;var h=null===v||void 0===v||null===(t=v.movements)||void 0===t?void 0:t.filter((function(e){return e>0})).reduce((function(e,n){return e+n}),0),x=null===v||void 0===v||null===(s=v.movements)||void 0===s?void 0:s.filter((function(e){return e<0})).reduce((function(e,n){return e+n}),0),O=null===v||void 0===v||null===(a=v.movements)||void 0===a||null===(r=a.filter((function(e){return e>0})))||void 0===r||null===(l=r.map((function(e){return e*(null===v||void 0===v?void 0:v.interestRate)/100})))||void 0===l||null===(c=l.filter((function(e,n,t){return e>=1})))||void 0===c?void 0:c.reduce((function(e,n){return e+n}),0);return Object(i.jsx)("div",{children:Object(i.jsxs)("main",{className:"app",children:[Object(i.jsxs)("div",{className:"balance",children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{className:"balance__label",children:"Current balance"}),Object(i.jsxs)("p",{className:"balance__date",children:["As of ",Object(i.jsx)("span",{className:"date",children:"05/03/2037"})]})]}),Object(i.jsx)("p",{className:"balance__value",children:"".concat(v.balance,"\u20ac")})]}),Object(i.jsx)("div",{className:"movements",children:null===v||void 0===v||null===(o=v.movements)||void 0===o||null===(u=o.reverse())||void 0===u?void 0:u.map((function(e,n,t){return Object(i.jsx)(j,{status:e>0?"deposit":"withdrawal",statusValue:"".concat(t.length-n," ").concat(e>0?"deposit":"withdrawal"),money:e},n)}))}),Object(i.jsx)(d,{transferMoney:p}),Object(i.jsx)(m,{applyLoan:b}),Object(i.jsxs)("div",{className:"operation operation--close",children:[Object(i.jsx)("h2",{children:"Close account"}),Object(i.jsxs)("form",{className:"form form--close",children:[Object(i.jsx)("input",{type:"text",className:"form__input form__input--user"}),Object(i.jsx)("input",{type:"password",maxlength:"6",className:"form__input form__input--pin"}),Object(i.jsx)("button",{onClick:_,className:"form__btn form__btn--close",children:"\u2192"}),Object(i.jsx)("label",{className:"form__label",children:"Confirm user"}),Object(i.jsx)("label",{className:"form__label",children:"Confirm PIN"})]})]}),Object(i.jsxs)("div",{className:"summary",children:[Object(i.jsx)("p",{className:"summary__label",children:"In"}),Object(i.jsx)("p",{className:"summary__value summary__value--in",children:"".concat(h,"\u20ac")}),Object(i.jsx)("p",{className:"summary__label",children:"Out"}),Object(i.jsx)("p",{className:"summary__value summary__value--out",children:"".concat(-x,"\u20ac")}),Object(i.jsx)("p",{className:"summary__label",children:"Interest"}),Object(i.jsx)("p",{className:"summary__value summary__value--interest",children:"".concat(O,"\u20ac")}),Object(i.jsx)("button",{className:"btn--sort",children:" l SORT "})]}),Object(i.jsxs)("p",{className:"logout-timer",children:["You will be logged out in ",Object(i.jsx)("span",{className:"timer",children:"05:00"})]})]})})},v=[{owner:"Jonas Schmedtmann",movements:[200,450,-400,3e3,-650,-130,70,1300],interestRate:1.2,pin:1111},{owner:"Jessica Davis",movements:[5e3,3400,-150,-790,-3210,-1e3,8500,-30],interestRate:1.5,pin:2222},{owner:"Steven Thomas Williams",movements:[200,-200,340,-300,-20,50,400,-460],interestRate:.7,pin:3333},{owner:"Sarah Smith",movements:[430,1e3,700,50,90],interestRate:1,pin:4444}],p={};var _=function(){var e=Object(s.useState)(0),n=Object(o.a)(e,2),t=n[0],a=n[1];return v.forEach((function(e){e.username=e.owner.toLowerCase().split(" ").map((function(e){return e[0]})).join("")})),Object(i.jsxs)("div",{children:[Object(i.jsx)(u,{findUser:function(e){e.preventDefault();var n=document.querySelector(".login__input--user"),t=document.querySelector(".login__input--pin"),s=Number.parseInt(t.value);p=v.find((function(e){return e.username===n.value&&e.pin===s})),n.value=t.value="",p?a(p):alert("no user")}}),t?Object(i.jsx)(b,{accounts:v,applyLoan:function(e){e.preventDefault();var n=document.querySelector(".form__input--loan-amount");p.movements.some((function(e){return e>=.1*Number(n.value)}))&&p.movements.push(Number(n.value)),n.value="",a(Object(c.a)({},p))},currentUser:p,user:t,transferMoney:function(e){e.preventDefault();var n=document.querySelector(".form__input--to"),t=document.querySelector(".form__input--amount"),s=+t.value,r=v.find((function(e){return e.username===n.value}));s&&p.balance>s&&r&&(null===r||void 0===r?void 0:r.username)!==p.username&&(p.movements.push(-s),r.movements.push(s)),n.value=t.value="",a(Object(c.a)({},p))},closeAccount:function(e){e.preventDefault();var n=document.querySelector(".form__input--user"),t=document.querySelector(".form__input--pin");if(n.value===p.username&&Number(t.value)===p.pin){var s=v.findIndex((function(e){return e.username===n.value&&e.pin===Number(t.value)}));v.splice(s,1),a(p=void 0),console.log(v)}else console.log("wrong userName");n.value="",t.value=""}}):console.log("no user")]})};l.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(_,{})}),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.d4772a6d.chunk.js.map