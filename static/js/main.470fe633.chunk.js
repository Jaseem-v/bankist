(this.webpackJsonpbankist=this.webpackJsonpbankist||[]).push([[0],{10:function(e,n,t){},12:function(e,n,t){"use strict";t.r(n);var r=t(1),s=t.n(r),a=t(5),c=t.n(a),o=t(2),l=(t(10),Object(r.createContext)()),u=t(0);var i=function(){var e=Object(r.useContext)(l),n=e.user,t=e.setUser,s=e.accounts;return Object(u.jsx)("div",{children:Object(u.jsxs)("nav",{children:[Object(u.jsx)("p",{className:"welcome",children:n?"Welcome Back , ".concat(n.owner.split(" ")[0]):"Log in to get started"}),Object(u.jsx)("img",{src:"logo.png",alt:"Logo",className:"logo"}),Object(u.jsxs)("form",{className:"login",children:[Object(u.jsx)("input",{type:"text",placeholder:"user",className:"login__input login__input--user"}),Object(u.jsx)("input",{type:"text",placeholder:"PIN",maxLength:"4",className:"login__input login__input--pin"}),Object(u.jsx)("button",{onClick:function(e){e.preventDefault();var n=document.querySelector(".login__input--user"),r=document.querySelector(".login__input--pin"),a=Number.parseInt(r.value);window.currentUser=s.find((function(e){return e.username===n.value&&e.pin===a})),n.value=r.value="",window.currentUser?(t(window.currentUser),O&&clearInterval(O),x()):alert("no user")},className:"login__btn",children:"\u2192"})]})]})})};var m=function(){var e=Object(r.useContext)(l),n=e.setUser,t=e.accounts;return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"operation operation--close",children:[Object(u.jsx)("h2",{children:"Close account"}),Object(u.jsxs)("form",{className:"form form--close",children:[Object(u.jsx)("input",{type:"text",className:"form__input form__input--user"}),Object(u.jsx)("input",{type:"password",maxlength:"6",className:"form__input form__input--pin"}),Object(u.jsx)("button",{onClick:function(e){e.preventDefault();var r=document.querySelector(".form__input--user"),s=document.querySelector(".form__input--pin");if(r.value===window.currentUser.username&&Number(s.value)===window.currentUser.pin){var a=t.findIndex((function(e){return e.username===r.value&&e.pin===Number(s.value)}));t.splice(a,1),window.currentUser=void 0,n(window.currentUser),console.log(t)}else console.log("wrong userName");r.value="",s.value=""},className:"form__btn form__btn--close",children:"\u2192"}),Object(u.jsx)("label",{className:"form__label",children:"Confirm user"}),Object(u.jsx)("label",{className:"form__label",children:"Confirm PIN"})]})]})})},d=t(3);var j=function(){var e=Object(r.useContext)(l).setUser;return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"operation operation--loan",children:[Object(u.jsx)("h2",{children:"Request loan"}),Object(u.jsxs)("form",{className:"form form--loan",children:[Object(u.jsx)("input",{type:"number",className:"form__input form__input--loan-amount"}),Object(u.jsx)("button",{onClick:function(n){var t,r;n.preventDefault();var s=document.querySelector(".form__input--loan-amount");(null===(t=window.currentUser)||void 0===t||null===(r=t.movements)||void 0===r?void 0:r.some((function(e){return e>=.1*Number(s.value)})))&&setTimeout((function(){var n,t,r,a;null===(n=window.currentUser)||void 0===n||null===(t=n.movements)||void 0===t||t.push(Number(s.value)),null===(r=window.currentUser)||void 0===r||null===(a=r.movementsDates)||void 0===a||a.push((new Date).toISOString()),alert("loan Aproved"),s.value="",e(Object(d.a)({},window.currentUser)),O&&clearInterval(O),x()}),2e3)},className:"form__btn form__btn--loan",children:"\u2192"}),Object(u.jsx)("label",{className:"form__label form__label--loan",children:"Amount"})]})]})})};var v=function(e){var n=e.status,t=e.money,r=e.statusValue,s=e.date,a=e.currencyFormater,c=function(e,n){var t=Math.round(Math.abs(e-n)/864e5);return 0===t?"TODAY":1===t?"YESTURDAY":t<7?"".concat(t," days ago"):new Intl.DateTimeFormat("en-GB").format(new Date(s))}(new Date(s),new Date);return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"movements__row",children:[Object(u.jsx)("div",{className:"movements__type movements__type--".concat(n),children:r}),Object(u.jsx)("div",{className:"movements__date",children:c}),Object(u.jsx)("div",{className:"movements__value",children:a(t)})]})})};var b=function(){var e=Object(r.useContext)(l),n=e.setUser,t=e.accounts;return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"operation operation--transfer",children:[Object(u.jsx)("h2",{children:"Transfer money"}),Object(u.jsxs)("form",{className:"form form--transfer",children:[Object(u.jsx)("input",{type:"text",className:"form__input form__input--to"}),Object(u.jsx)("input",{type:"number",className:"form__input form__input--amount"}),Object(u.jsx)("button",{onClick:function(e){e.preventDefault();var r=document.querySelector(".form__input--to"),s=document.querySelector(".form__input--amount"),a=+s.value,c=t.find((function(e){return e.username===r.value}));a&&window.currentUser.balance>a&&c&&(null===c||void 0===c?void 0:c.username)!==window.currentUser.username&&(window.currentUser.movements.push(-a),c.movements.push(a),window.currentUser.movementsDates.push((new Date).toISOString()),c.movementsDates.push((new Date).toISOString())),r.value=s.value="",n(Object(d.a)({},window.currentUser)),O&&clearInterval(O),x()},className:"form__btn form__btn--transfer",children:"\u2192"}),Object(u.jsx)("label",{className:"form__label",children:"Transfer to"}),Object(u.jsx)("label",{className:"form__label",children:"Amount"})]})]})})};var _=function(e){var n,t,s,a,c,o,i=e.sortClick,m=e.currencyFormater,d=Object(r.useContext)(l).user,j=null===d||void 0===d||null===(n=d.movements)||void 0===n?void 0:n.filter((function(e){return e>0})).reduce((function(e,n){return e+n}),0),v=null===d||void 0===d||null===(t=d.movements)||void 0===t?void 0:t.filter((function(e){return e<0})).reduce((function(e,n){return e+n}),0),b=Math.round(null===d||void 0===d||null===(s=d.movements)||void 0===s||null===(a=s.filter((function(e){return e>0})))||void 0===a||null===(c=a.map((function(e){return e*(null===d||void 0===d?void 0:d.interestRate)/100})))||void 0===c||null===(o=c.filter((function(e){return e>=1})))||void 0===o?void 0:o.reduce((function(e,n){return e+n}),0));return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"summary",children:[Object(u.jsx)("p",{className:"summary__label",children:"In"}),Object(u.jsx)("p",{className:"summary__value summary__value--in",children:m(j)}),Object(u.jsx)("p",{className:"summary__label",children:"Out"}),Object(u.jsx)("p",{className:"summary__value summary__value--out",children:m(-v)}),Object(u.jsx)("p",{className:"summary__label",children:"Interest"}),Object(u.jsx)("p",{className:"summary__value summary__value--interest",children:m(b)}),Object(u.jsx)("button",{onClick:i,className:"btn--sort",children:" l SORT "})]})})};var p=function(){var e,n,t=Object(r.useContext)(l).user,s=Object(r.useState)(!1),a=Object(o.a)(s,2),c=a[0],i=a[1];n=c?t.movements.slice().sort((function(e,n){return e-n})):t.movements;var d=function(e){return new Intl.NumberFormat(navigator.languages,{style:"currency",currency:"INR"}).format(e)},p=null===t||void 0===t||null===(e=t.movements)||void 0===e?void 0:e.reduce((function(e,n){return e+n}),0);t.balance=p;var f=new Intl.DateTimeFormat("en-IN",{year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric"}).format(new Date);return Object(u.jsx)("div",{children:Object(u.jsxs)("main",{className:"app",children:[Object(u.jsxs)("div",{className:"balance",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{className:"balance__label",children:"Current balance"}),Object(u.jsxs)("p",{className:"balance__date",children:["As of ",Object(u.jsx)("span",{className:"date",children:f})]})]}),Object(u.jsx)("p",{className:"balance__value",children:d(t.balance)})]}),Object(u.jsx)("div",{className:"movements",children:n.map((function(e,n,r){return Object(u.jsx)(v,{status:e>0?"deposit":"withdrawal",statusValue:"".concat(r.length-n," ").concat(e>0?"deposit":"withdrawal"),money:e,date:t.movementsDates[n],currencyFormater:d},n)}))}),Object(u.jsx)(b,{}),Object(u.jsx)(j,{}),Object(u.jsx)(m,{}),Object(u.jsx)(_,{sortClick:function(e){e.preventDefault(),i(!c)},currencyFormater:d}),Object(u.jsxs)("p",{className:"logout-timer",children:["You will be logged out in ",Object(u.jsx)("span",{className:"timer",children:"05:00"})]})]})})},f=[{owner:"Jaseem V",movements:[2e3,4500,-4e3,3e4,-6500,-1300,700,1300],interestRate:1.2,pin:1111,movementsDates:["2020-11-18T21:31:17.178Z","2020-12-23T07:42:02.383Z","2021-01-28T09:15:04.904Z","2021-04-01T10:17:24.185Z","2021-05-08T14:11:59.604Z","2021-07-26T17:01:17.194Z","2021-07-28T23:36:17.929Z","2021-08-01T10:51:36.790Z"]},{owner:"Lionel Messi",movements:[5e3,3400,-150,-790,-3210,-1e3,8500,-30],interestRate:1.5,pin:2222,movementsDates:["2020-11-01T13:15:33.035Z","2020-11-30T09:48:16.867Z","2020-12-25T06:04:23.907Z","2021-01-25T14:18:46.235Z","2021-02-05T16:33:06.386Z","2021-04-10T14:43:26.374Z","2021-06-25T18:49:59.371Z","2021-07-26T12:01:20.894Z"]},{owner:"Cristiano Ronaldo",movements:[200,-200,340,-300,-20,50,400,-460],interestRate:.7,pin:3333,movementsDates:["2020-11-01T13:15:33.035Z","2020-11-30T09:48:16.867Z","2020-12-25T06:04:23.907Z","2021-01-25T14:18:46.235Z","2021-02-05T16:33:06.386Z","2021-04-10T14:43:26.374Z","2021-06-25T18:49:59.371Z","2021-07-26T12:01:20.894Z"]},{owner:"Muhammed Salah",movements:[430,1e3,700,50,90],interestRate:1,pin:4444,movementsDates:["2019-11-01T13:15:33.035Z","2019-11-30T09:48:16.867Z","2019-12-25T06:04:23.907Z","2021-01-25T14:18:46.235Z","2021-02-05T16:33:06.386Z","2021-04-10T14:43:26.374Z","2021-06-25T18:49:59.371Z","2021-07-26T12:01:20.894Z"]}];window.currentUser={};var O=0,x=void 0;var h=function(){var e=Object(r.useState)(0),n=Object(o.a)(e,2),t=n[0],s=n[1];return f.forEach((function(e){e.username=e.owner.toLowerCase().split(" ").map((function(e){return e[0]})).join("")})),x=function(){var e=300;O=setInterval((function(){var n="".concat(Math.floor(e/60)).padStart(2,0),t="".concat(e%60).padStart(2,0);document.querySelector(".timer").textContent="".concat(n,":").concat(t),0===e&&(window.currentUser=void 0,s(window.currentUser)),e--}),1e3)},Object(u.jsx)("div",{children:Object(u.jsxs)(l.Provider,{value:{user:t,setUser:s,accounts:f},children:[Object(u.jsx)(i,{}),t?Object(u.jsx)(p,{}):console.log("no user")]})})};c.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(h,{})}),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.470fe633.chunk.js.map