{"version":3,"sources":["Context.js","components/Login.js","components/Close.js","components/Loan.js","components/Movement.js","components/Transfer.js","components/Summary.js","components/Main.js","App.js","index.js"],"names":["Context","createContext","Login","useContext","user","setUser","accounts","className","owner","split","src","alt","type","placeholder","maxLength","onClick","e","preventDefault","inputLoginUsername","document","querySelector","inputLoginPin","loginPin","Number","parseInt","value","window","currentUser","find","el","username","pin","timerInterval","clearInterval","startTimer","alert","Close","maxlength","inputCloseUsername","inputClosePin","closeUserIndex","findIndex","splice","undefined","console","log","Loan","inputLoanAmount","movements","some","setTimeout","push","movementsDates","Date","toISOString","Movement","status","money","statusValue","date","currencyFormater","currentDate","date1","date2","dateDifference","Math","round","abs","Intl","DateTimeFormat","format","formatDate","Transfer","inputTransferTo","inputTransferAmount","amount","receiverAcc","balance","Summary","sortClick","totalDeposit","filter","reduce","acc","totalWithdrawal","interest","mov","map","deposit","interestRate","int","Main","movs","timer","useState","sort","setSort","slice","a","b","NumberFormat","navigator","languages","style","currency","allBalance","now","year","month","day","weekday","hour","minute","i","arr","length","App","setTimer","forEach","toLowerCase","name","join","timeInt","setInterval","floor","padStart","second","Provider","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.dd5b1387.chunk.js","sourcesContent":["import { createContext } from \"react\";\r\n\r\n\r\nexport const Context = createContext()","import React, { useContext } from 'react'\r\nimport { Context } from '../Context';\r\nimport { startTimer, timerInterval } from \"../App\";\r\n\r\n\r\n\r\nfunction Login() {\r\n    let { user, setUser, accounts } = useContext(Context);\r\n\r\n    /////////////////////////////////////////////\r\n    // finduser\r\n    let findUser = (e) => {\r\n        e.preventDefault();\r\n        let inputLoginUsername = document.querySelector('.login__input--user');\r\n        let inputLoginPin = document.querySelector('.login__input--pin');\r\n\r\n        let loginPin = Number.parseInt(inputLoginPin.value)\r\n\r\n        window.currentUser = accounts.find((el) => {\r\n            return el.username === inputLoginUsername.value && el.pin === loginPin;\r\n        });\r\n\r\n        inputLoginUsername.value = inputLoginPin.value = \"\"\r\n\r\n        if (window.currentUser) {\r\n            setUser(window.currentUser);\r\n            if (timerInterval) clearInterval(timerInterval);\r\n            startTimer();\r\n\r\n        } else {\r\n            alert(\"no user\");\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {/* <!-- TOP NAVIGATION --> */}\r\n            <nav>\r\n                <p className=\"welcome\">{user ? `Welcome Back , ${user.owner.split(\" \")[0]}` : \"Log in to get started\"}</p>\r\n                <img src=\"logo.png\" alt=\"Logo\" className=\"logo\" />\r\n                <form className=\"login\">\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"user\"\r\n                        className=\"login__input login__input--user\"\r\n                    />\r\n                    {/* <!-- In practice, use type=\"password\" --> */}\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"PIN\"\r\n                        maxLength=\"4\"\r\n                        className=\"login__input login__input--pin\"\r\n                    />\r\n                    <button onClick={findUser} className=\"login__btn\">&rarr;</button>\r\n                </form>\r\n            </nav>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","\r\nimport React, { useContext } from 'react'\r\nimport { Context } from '../Context';\r\n\r\nfunction Close() {\r\n\r\n    let { setUser, accounts  } = useContext(Context);\r\n\r\n    ////////////////////////////////////////////////////////////////////\r\n    ////// Close Account\r\n\r\n    let closeAccount = (e) => {\r\n        e.preventDefault();\r\n\r\n        let inputCloseUsername = document.querySelector('.form__input--user');\r\n        let inputClosePin = document.querySelector('.form__input--pin');\r\n\r\n        if (inputCloseUsername.value === window.currentUser.username && Number(inputClosePin.value) === window.currentUser.pin) {\r\n            let closeUserIndex = accounts.findIndex((el) => {\r\n                return el.username === inputCloseUsername.value && el.pin === Number(inputClosePin.value);\r\n            })\r\n\r\n            accounts.splice(closeUserIndex, 1);\r\n\r\n            window.currentUser = undefined;\r\n\r\n            setUser(window.currentUser);\r\n\r\n            console.log(accounts);\r\n        } else {\r\n            console.log(\"wrong userName\");\r\n        }\r\n\r\n\r\n        inputCloseUsername.value = \"\";\r\n        inputClosePin.value = \"\";\r\n\r\n    }\r\n    return (\r\n        <div>\r\n            {/* <!-- OPERATION: CLOSE --> */}\r\n            <div className=\"operation operation--close\">\r\n                <h2>Close account</h2>\r\n                <form className=\"form form--close\">\r\n                    <input type=\"text\" className=\"form__input form__input--user\" />\r\n                    <input\r\n                        type=\"password\"\r\n                        maxlength=\"6\"\r\n                        className=\"form__input form__input--pin\"\r\n                    />\r\n                    <button onClick={closeAccount} className=\"form__btn form__btn--close\">&rarr;</button>\r\n                    <label className=\"form__label\">Confirm user</label>\r\n                    <label className=\"form__label\">Confirm PIN</label>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Close\r\n","import React, { useContext } from 'react'\r\nimport { Context } from '../Context';\r\nimport { startTimer,timerInterval } from \"../App\";\r\n\r\nfunction Loan() {\r\n\r\n    let { setUser } = useContext(Context);\r\n\r\n    ///////////////////////////////////////////////////////////\r\n    /// Loan\r\n\r\n    let applyLoan = (e) => {\r\n        e.preventDefault();\r\n        let inputLoanAmount = document.querySelector('.form__input--loan-amount');\r\n        let amoutPercent = window.currentUser?.movements?.some((el) => el >= Number(inputLoanAmount.value) * 0.1)\r\n\r\n        if (amoutPercent) {\r\n            setTimeout(() => {\r\n                window.currentUser?.movements?.push(Number(inputLoanAmount.value));\r\n                window.currentUser?.movementsDates?.push(new Date().toISOString());\r\n                alert(\"loan Aproved\");\r\n                inputLoanAmount.value = \"\";\r\n                setUser({ ...window.currentUser })\r\n                if (timerInterval) clearInterval(timerInterval);\r\n                startTimer();\r\n            }, 2000);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {/* <!-- OPERATION: LOAN --> */}\r\n            <div className=\"operation operation--loan\">\r\n                <h2>Request loan</h2>\r\n                <form className=\"form form--loan\">\r\n                    <input type=\"number\" className=\"form__input form__input--loan-amount\" />\r\n                    <button onClick={applyLoan} className=\"form__btn form__btn--loan\">&rarr;</button>\r\n                    <label className=\"form__label form__label--loan\">Amount</label>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loan\r\n","import React from 'react'\r\n\r\n\r\nfunction Movement({ status, money, statusValue, date, currencyFormater }) {\r\n\r\n\r\n    const formatDate = (date1, date2) => {\r\n        let dateDifference = Math.round(Math.abs(date1 - date2) / (1000 * 60 * 60 * 24));\r\n\r\n        if (dateDifference === 0) return \"TODAY\"\r\n        if (dateDifference === 1) return \"YESTURDAY\"\r\n        if (dateDifference < 7) return `${dateDifference} days ago`\r\n\r\n        return new Intl.DateTimeFormat(\"en-GB\").format(new Date(date));\r\n\r\n    }\r\n\r\n\r\n    const currentDate = formatDate(new Date(date), new Date());\r\n\r\n\r\n    // asd\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"movements__row\">\r\n                <div className={`movements__type movements__type--${status}`} >{statusValue}</div>\r\n                <div className=\"movements__date\">{currentDate}</div>\r\n                <div className=\"movements__value\">{currencyFormater(money)}</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Movement\r\n","import React, { useContext } from 'react'\r\nimport { Context } from '../Context';\r\nimport { startTimer,timerInterval } from \"../App\";\r\n\r\n\r\nfunction Transfer() {\r\n\r\n    let { setUser, accounts } = useContext(Context);\r\n\r\n    ///////////////////////////////////////////////////////\r\n    /// transferMoney\r\n\r\n    let transferMoney = (e) => {\r\n        e.preventDefault();\r\n        let inputTransferTo = document.querySelector('.form__input--to');\r\n        let inputTransferAmount = document.querySelector('.form__input--amount');\r\n\r\n        let amount = +inputTransferAmount.value;\r\n\r\n        let receiverAcc = accounts.find((el) => {\r\n            return el.username === inputTransferTo.value\r\n        });\r\n\r\n        if (amount && window.currentUser.balance > amount && receiverAcc && receiverAcc?.username !== window.currentUser.username) {\r\n            window.currentUser.movements.push(-amount);\r\n            receiverAcc.movements.push(amount);\r\n\r\n            //////// Date push\r\n            window.currentUser.movementsDates.push(new Date().toISOString());\r\n            receiverAcc.movementsDates.push(new Date().toISOString());\r\n        }\r\n\r\n        inputTransferTo.value = inputTransferAmount.value = \"\"\r\n\r\n        setUser({ ...window.currentUser });\r\n        if (timerInterval) clearInterval(timerInterval);\r\n        startTimer();\r\n        // setTimeInt(time0);\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            {/* <!-- OPERATION: TRANSFERS --> */}\r\n            <div className=\"operation operation--transfer\">\r\n                <h2>Transfer money</h2>\r\n                <form className=\"form form--transfer\">\r\n                    <input type=\"text\" className=\"form__input form__input--to\" />\r\n                    <input type=\"number\" className=\"form__input form__input--amount\" />\r\n                    <button onClick={transferMoney} className=\"form__btn form__btn--transfer\">&rarr;</button>\r\n                    <label className=\"form__label\">Transfer to</label>\r\n                    <label className=\"form__label\">Amount</label>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Transfer\r\n","import React, { useContext } from 'react'\r\nimport { Context } from '../Context';\r\n\r\n\r\nfunction Summary({ sortClick, currencyFormater }) {\r\n    let { user, } = useContext(Context);\r\n\r\n    let totalDeposit = user?.movements?.filter((el) => el > 0).reduce((acc, el) => acc + el, 0)\r\n    let totalWithdrawal = user?.movements?.filter((el) => el < 0).reduce((acc, el) => acc + el, 0);\r\n    let interest = Math.round(user?.movements\r\n        ?.filter(mov => mov > 0)\r\n        ?.map(deposit => (deposit * user?.interestRate) / 100)\r\n        ?.filter((int) => int >= 1)\r\n        ?.reduce((acc, int) => acc + int, 0));\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            {/* <!-- SUMMARY --> */}\r\n            <div className=\"summary\">\r\n                <p className=\"summary__label\">In</p>\r\n                <p className=\"summary__value summary__value--in\">{currencyFormater(totalDeposit)}</p>\r\n                <p className=\"summary__label\">Out</p>\r\n                <p className=\"summary__value summary__value--out\">{currencyFormater(-totalWithdrawal)}</p>\r\n                <p className=\"summary__label\">Interest</p>\r\n                <p className=\"summary__value summary__value--interest\">{currencyFormater(interest)}</p>\r\n                <button onClick={sortClick} className=\"btn--sort\"> l SORT </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Summary\r\n","import React, { useState, useContext } from 'react';\r\nimport Close from './Close';\r\nimport Loan from './Loan';\r\nimport Movement from './Movement';\r\nimport Transfer from './Transfer';\r\nimport { Context } from '../Context';\r\nimport Summary from './Summary';\r\n\r\n\r\n\r\n\r\nfunction Main() {\r\n\r\n    let { user, timer, } = useContext(Context);\r\n\r\n    //////////////////////////////////////////////////////\r\n    // Sort\r\n\r\n    const [sort, setSort] = useState(false);\r\n\r\n    let movs;\r\n\r\n\r\n    movs = sort ? user.movements.slice().sort((a, b) => a - b) : user.movements\r\n\r\n\r\n\r\n    const sortClick = (e) => {\r\n        e.preventDefault();\r\n        setSort(!sort);\r\n    }\r\n\r\n    ////////////////////////////////////////////////////////////\r\n    // currency format\r\n\r\n    const currencyFormater = (value) => {\r\n        let currencyOptions = {\r\n            style: \"currency\",\r\n            currency: \"INR\"\r\n        }\r\n\r\n        return new Intl.NumberFormat(navigator.languages, currencyOptions).format(value)\r\n    }\r\n\r\n    ////////////////////////////////\r\n    // calculation\r\n\r\n    let allBalance = user?.movements?.reduce((acc, el) => acc + el, 0);\r\n    user.balance = allBalance\r\n\r\n\r\n\r\n    ////////////////////////////////////////////////////////////\r\n    // Date\r\n\r\n    let dateOptions = {\r\n        year: \"numeric\",\r\n        month: \"long\",\r\n        day: \"numeric\",\r\n        weekday: \"long\",\r\n        hour: \"numeric\",\r\n        minute: \"numeric\"\r\n    }\r\n    let now = new Intl.DateTimeFormat(\"en-IN\", dateOptions).format(new Date());\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <main className=\"app\">\r\n                {/* <!-- BALANCE --> */}\r\n                <div className=\"balance\">\r\n                    <div>\r\n                        <p className=\"balance__label\">Current balance</p>\r\n                        <p className=\"balance__date\">\r\n                            As of <span className=\"date\">{now}</span>\r\n                        </p>\r\n                    </div>\r\n                    <p className=\"balance__value\">{currencyFormater(user.balance)}</p>\r\n                </div>\r\n\r\n                {/* <!-- MOVEMENTS --> */}\r\n                <div className=\"movements\">\r\n\r\n\r\n\r\n                    {movs.map((mov, i, arr) =>\r\n                        <Movement\r\n                            key={i}\r\n                            status={mov > 0 ? \"deposit\" : \"withdrawal\"}\r\n                            statusValue={`${arr.length - i} ${mov > 0 ? \"deposit\" : \"withdrawal\"}`}\r\n                            money={mov}\r\n                            date={user.movementsDates[i]}\r\n                            currencyFormater={currencyFormater}\r\n                        />\r\n                    )}\r\n\r\n\r\n\r\n                </div>\r\n\r\n\r\n                <Transfer />\r\n\r\n                <Loan />\r\n\r\n                <Close />\r\n\r\n                <Summary sortClick={sortClick} currencyFormater={currencyFormater} />\r\n\r\n\r\n                {/* <!-- LOGOUT TIMER --> */}\r\n                <p className=\"logout-timer\">\r\n                    You will be logged out in <span className=\"timer\" >{timer}</span>\r\n                </p>\r\n            </main>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Main\r\n","import React, { useState } from 'react';\r\nimport \"./App.css\";\r\nimport Login from './components/Login';\r\nimport Main from './components/Main';\r\nimport { Context } from \"./Context\";\r\n\r\n\r\n\r\n\r\n/////////////////////////////////////////////////\r\n// Data\r\nconst account1 = {\r\n  owner: 'Jaseem V',\r\n  movements: [2000, 4500, -4000, 30000, -6500, -1300, 700, 1300],\r\n  interestRate: 1.2, // %\r\n  pin: 1111,\r\n  movementsDates: [\r\n    '2020-11-18T21:31:17.178Z',\r\n    '2020-12-23T07:42:02.383Z',\r\n    '2021-01-28T09:15:04.904Z',\r\n    '2021-04-01T10:17:24.185Z',\r\n    '2021-05-08T14:11:59.604Z',\r\n    '2021-07-26T17:01:17.194Z',\r\n    '2021-07-28T23:36:17.929Z',\r\n    '2021-08-01T10:51:36.790Z',\r\n  ],\r\n};\r\n\r\nconst account2 = {\r\n  owner: 'Lionel Messi',\r\n  movements: [5000, 3400, -150, -790, -3210, -1000, 8500, -30],\r\n  interestRate: 1.5,\r\n  pin: 2222,\r\n  movementsDates: [\r\n    '2020-11-01T13:15:33.035Z',\r\n    '2020-11-30T09:48:16.867Z',\r\n    '2020-12-25T06:04:23.907Z',\r\n    '2021-01-25T14:18:46.235Z',\r\n    '2021-02-05T16:33:06.386Z',\r\n    '2021-04-10T14:43:26.374Z',\r\n    '2021-06-25T18:49:59.371Z',\r\n    '2021-07-26T12:01:20.894Z',\r\n  ],\r\n};\r\n\r\nconst account3 = {\r\n  owner: 'Cristiano Ronaldo',\r\n  movements: [200, -200, 340, -300, -20, 50, 400, -460],\r\n  interestRate: 0.7,\r\n  pin: 3333,\r\n  movementsDates: [\r\n    '2020-11-01T13:15:33.035Z',\r\n    '2020-11-30T09:48:16.867Z',\r\n    '2020-12-25T06:04:23.907Z',\r\n    '2021-01-25T14:18:46.235Z',\r\n    '2021-02-05T16:33:06.386Z',\r\n    '2021-04-10T14:43:26.374Z',\r\n    '2021-06-25T18:49:59.371Z',\r\n    '2021-07-26T12:01:20.894Z',\r\n  ],\r\n};\r\n\r\nconst account4 = {\r\n  owner: 'Muhammed Salah',\r\n  movements: [430, 1000, 700, 50, 90],\r\n  interestRate: 1,\r\n  pin: 4444,\r\n  movementsDates: [\r\n    '2019-11-01T13:15:33.035Z',\r\n    '2019-11-30T09:48:16.867Z',\r\n    '2019-12-25T06:04:23.907Z',\r\n    '2021-01-25T14:18:46.235Z',\r\n    '2021-02-05T16:33:06.386Z',\r\n    '2021-04-10T14:43:26.374Z',\r\n    '2021-06-25T18:49:59.371Z',\r\n    '2021-07-26T12:01:20.894Z',\r\n  ],\r\n};\r\n\r\nconst accounts = [account1, account2, account3, account4];\r\n\r\n\r\nwindow.currentUser = {};\r\nexport let timerInterval = 0;\r\nexport let startTimer = undefined;\r\nfunction App() {\r\n\r\n\r\n  const [user, setUser] = useState(0);\r\n  const [timer, setTimer] = useState(\"05:00\");\r\n\r\n\r\n\r\n  //username\r\n\r\n  accounts.forEach(function (acc) {\r\n    acc.username = acc.owner\r\n      .toLowerCase()\r\n      .split(' ')\r\n      .map(name => name[0])\r\n      .join('');\r\n  });\r\n\r\n\r\n  ////////////////////////////////////////////////\r\n  //  Timer\r\n\r\n\r\n  startTimer = () => {\r\n\r\n    let timeInt = 300;\r\n    timerInterval = setInterval(() => {\r\n      let minute = `${Math.floor(timeInt / 60)}`.padStart(2, 0);\r\n      let second = `${timeInt % 60}`.padStart(2, 0);\r\n      setTimer(`${minute}:${second}`);\r\n\r\n      if (timeInt === 0) {\r\n        window.currentUser = undefined;\r\n        setUser(window.currentUser);\r\n      }\r\n      timeInt--;\r\n\r\n    }, 1000);\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n\r\n      <Context.Provider value={{ user, setUser, accounts, timer, setTimer }}>\r\n\r\n        <Login />\r\n\r\n        {user ?\r\n          <Main\r\n          />\r\n          : console.log(\"no user\")\r\n\r\n        }\r\n\r\n      </Context.Provider>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}